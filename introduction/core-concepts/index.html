<!DOCTYPE html>
<html lang="en-US">
<head>
  <script src="https://docs.nosqlbench.io/theme.min.js" integrity="sha384-IpIaa84kOKgkF5EJ0fD/kBe2wtIIsIB60ANGmuJxeA0dz5bSRfwBwp2/QybtQpU2"></script>
  <link rel="stylesheet" href="https://docs.nosqlbench.io/abridge-switcher.css?h=4238d999f44a7bb130d5" />
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <link rel="preload" as="style" class="preStyle" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" crossorigin="anonymous" />
  <script defer src="https://docs.nosqlbench.io/search_index.en.js?h=ae47d253e455a3aaacb2" integrity="sha384-cP47owL9Iuak1e1AA21cJA4BgagQtaPwAXBQG7QgJeE2JKGgkCBROHbCj/Xym6KC"></script>
  <script defer src="https://docs.nosqlbench.io/abridge-bundle-nofacade.min.js?h=9bcf621a2fcab7336017" integrity="sha384-u8AROOUG6n2Xjk2+7pvkkfeSIqinjI1tmqeBpZRlZtc5KFO/8DyFfEir6fAE2wcq"></script>
  <meta name="base" content="https://docs.nosqlbench.io" />
<meta name="robots" content="index, follow" />
  <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
  <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
  <title>Core Concepts | NoSQLBench Project</title>
  <meta name="copyright" content="NoSQLBench Project" />
  <meta name="description" content="NoSQLBench is an Open Source, Multi-Protocol, Pluggable, Scriptable, NoSQL (and more) Testing System." />
  <link rel="canonical" href="https://docs.nosqlbench.io/introduction/core-concepts/" />
  <meta name="keywords" content="Abridge, Abridge.css, Zola, Theme, Zola Theme, getzola, Semantic Html, Fast, lightweight" />
  <meta property="og:url" content="https://docs.nosqlbench.io/introduction/core-concepts/" />
  <meta name="twitter:url" content="https://docs.nosqlbench.io/introduction/core-concepts/" />
  <meta property="og:description" content="NoSQLBench is an Open Source, Multi-Protocol, Pluggable, Scriptable, NoSQL (and more) Testing System." />
  <meta name="twitter:description" content="NoSQLBench is an Open Source, Multi-Protocol, Pluggable, Scriptable, NoSQL (and more) Testing System." />
  <meta property="og:title" content="Core Concepts | NoSQLBench Project" />
  <meta name="twitter:title" content="Core Concepts | NoSQLBench Project" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:image" content="https://docs.nosqlbench.io/nb5banner.png" />
  <meta property="og:image" content="https://docs.nosqlbench.io/nb5banner.png" />
  <meta property="og:site_name" content="NoSQLBench Project" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:type" content="website" />
  <meta property="og:updated_time" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="theme-color" content="#333333" />
  <meta name="msapplication-TileColor" content="#333333" />
  <link rel="manifest" href="https://docs.nosqlbench.io/site.webmanifest" />
  <link rel="mask-icon" href="https://docs.nosqlbench.io/safari-pinned-tab.svg" color="#ff9900" />
  <link rel="apple-touch-icon" sizes="180x180" href="https://docs.nosqlbench.io/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="https://docs.nosqlbench.io/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="https://docs.nosqlbench.io/favicon-16x16.png" />
  <noscript><link rel="stylesheet" href="https://docs.nosqlbench.io/nojs.css" /></noscript>
</head>
<body>
  <header>
    <nav>
      <div><h1><a href="https://docs.nosqlbench.io/"><img src="https://docs.nosqlbench.io/nb5logo.png" alt="NoSQLBench5" width="32" height="32" />NoSQLBench v5</a></h1></div><div>
        <ul><li> <h2><a href="https://docs.nosqlbench.io/getting-started/">Getting Started</a></h2> </li><li> <h2><a href="https://docs.nosqlbench.io/release-notes/">Release Notes</a></h2> </li><li class="js"><i type="reset" id="mode" class="svgs adjust"></i></li></ul>
      </div>
      <div>
        <form autocomplete=off class="js" name="goSearch" id="searchbox">
          <div class="searchd">
            <input id="searchinput" type="text" placeholder="Search" title="Search" />
            <button type="submit" title="Search"><i class="svgs search"></i></button>
          </div>
          <div><div id="suggestions"></div></div>
        </form>
      </div>

      <a href="http://github.com/nosqlbench/nosqlbench-build-docs" title="This doc site's project repo">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 22 18"
             fill="none"
             stroke="currentColor" stroke-width="1" stroke-linecap="round"
             stroke-linejoin="round">
          <path
              d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
        </svg>
      </a>
      <a href="http://nosqlbench.io" title="NoSQLBench Project Site">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 22 18"
             fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round"
             stroke-linejoin="round">
          <path
              d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
        </svg>
      </a>
    </nav>
    <hr /><div style="position:sticky"><span><a href="&#x2F;">NB5 Docsâ–º </a></span><span title="An introduction to what makes NoSQLBench Unique"><a href="&#x2F;introduction&#x2F;"><strong>Introductionâ–¼</strong> </a></span><span title="[current page]"><a href="&#x2F;introduction&#x2F;core-concepts&#x2F;"><strong>Core Concepts ðŸ–º</strong></a></span>
</div></header>
  <main><!-- active_page: introduction&#x2F;core-concepts.md -->
<!-- active_section: introduction&#x2F;_index.md -->


<!-- lower_root: _index.md -->
<!-- >upper_root: _index.md -->

<div class="toc" aria-hidden="true" id="">
<!--  <h4>Introduction</h4>--><div class="toc-sticky"><div class="toc-item"title="Release Notes for each major and some minor releases"><a href="&#x2F;release-notes&#x2F;">â–ºRelease Notes</a></div><div class="toc-item"title="An introduction to what makes NoSQLBench Unique"><strong>â–¼Introduction</strong></div><!-- subsection_page_path: &#x2F;introduction&#x2F;introduction&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;introduction&#x2F;introduction&#x2F;">NoSQLBench</a>
    </div><!-- subsection_page_path: &#x2F;introduction&#x2F;core-concepts&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;introduction&#x2F;core-concepts&#x2F;"><strong>Core Concepts</strong></a>
    </div><!-- subsection_page_path: &#x2F;introduction&#x2F;showcase&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;introduction&#x2F;showcase&#x2F;">Showcase</a>
    </div><!-- subsection_page_path: &#x2F;introduction&#x2F;community&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;introduction&#x2F;community&#x2F;">Community</a>
    </div><!-- subsection_page_path: &#x2F;introduction&#x2F;download&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;introduction&#x2F;download&#x2F;">Download</a>
    </div><!-- subsection_page_path: &#x2F;introduction&#x2F;principles&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;introduction&#x2F;principles&#x2F;">Design Principles</a>
    </div><div class="toc-item"title="Getting Started with NoSQLBench"><a href="&#x2F;getting-started&#x2F;">â–ºGetting Started</a></div><div class="toc-item"title="You can build workloads to simulate real-world data and access patterns."><a href="&#x2F;workloads-101&#x2F;">â–ºWorkloads 101</a></div><div class="toc-item"title="Detailed documentation on all options and features of NoSQLBench"><a href="&#x2F;user-guide&#x2F;">â–ºUser Guide</a></div><div class="toc-item"title="The NB5 Developer Guide"><a href="&#x2F;dev-guide&#x2F;">â–ºDev Guide</a></div><div class="toc-item"title="Detailed reference on drivers, formats, bindings, from auto-imported docs"><a href="&#x2F;reference&#x2F;">â–ºReference Section</a></div></div>
</div>

<article>

  <p>NoSQLBench is built on top of core concepts that have been scrutinized, replaced, refined, and
hardened through several years of use by a diverse set of users.</p>
<p>This level of refinement is important when trying to find a way to express common patterns in what
is often a highly fragmented practice. Testing is hard. Scale testing is hard. Distributed testing
is hard. Combined, the challenge of executing realistic tests is often quite daunting to all but
seasoned test engineers. To make this worse, existing tools have only skirmished with this problem
enough to make dents, but none has tackled full-on the lack of conceptual building blocks.</p>
<p>This has to change. We need a set of testing concepts that can span across workloads and system
types, and machinery to put these concepts to use. This is why it is important to focus on finding a
useful and robust set of concepts to use as the foundation for the rest of the toolkit to be built
on. Finding these building blocks is often one of the most difficult challenges in systems design.
Once you find and validate a useful set of concepts, everything else gets easier.</p>
<p>We feel that the success that we've already had using NoSQLBench has been strongly tied to the core
concepts. Some concepts used in NoSQLBench are shared below for illustration, but this is by no
means an exhaustive list.</p>
<h3 id="the-cycle">The Cycle</h3>
<p>Cycles in NoSQLBench are whole numbers on a number line. Each operation in a NoSQLBench scenario is
derived from a single cycle. It's a long value, and a seed. The cycle determines not only which
operation is selected for execution, but also what data will be attached to it.</p>
<p>Cycles are specified as a <em>closed-open</em> <code>[min,max)</code> interval, just as slices in some languages. That
is, the min value is included in the range, but the max value is not. This means that you can stack
slices using common numeric reference points without overlaps or gaps. It means you can have exact
awareness of what data is in your dataset, even incrementally.</p>
<p>You can think of a cycle as a single-valued coordinate system for data that lives adjacent to that
number on the number line. In this way, virtual dataset functions are ways of converting coordinates
into data.</p>
<p>In NoSQLBench, the cycle range determines both the total size of a workload and the specific set of
operations which will be performed. Using the same cycle range is the same as specifying the same
exact operations. This means that your tests can be completely deterministic (pseudo-random) and
repeatable even when they appear random or are shaped by density curves.</p>
<h3 id="the-activity">The Activity</h3>
<p>An activity is a multi-threaded flywheel of statements in some sequence and ratio. Each activity
runs over the numbers in a cycle range. An activity is specified as a series of op templates in some
ratio and order. When an activity runs, it executes an efficient loop over specific operations with
its own thread pool.</p>
<h3 id="the-op-template">The Op Template</h3>
<p>Each possible operation in an activity is provided by the user in a YAML or data structure driven
template. The op templates are used to create efficient op dispensers in the runtime according to
the mapping rules for a given driver.</p>
<h3 id="the-driver-adapter">The Driver Adapter</h3>
<p>A driver adapter is a high level driver for a protocol which interfaces a native driver to the
runtime machinery of NoSQLBench. It is like a statement-aware cartridge that knows how to take a
basic op template and turn it into an operation for an activity to execute for a given cycle.</p>
<h3 id="the-scenario">The Scenario</h3>
<p>The scenario is a runtime session that holds activities while they run. A NoSQLBench scenario is
responsible for aggregating global runtime settings, metrics reporting channels, log files, and so
on. All activities run within a scenario, under the control of the scenario script.</p>
<h3 id="the-scenario-script">The Scenario Script</h3>
<p>Each scenario is governed by a script that runs single-threaded, asynchronously from activities, but
in control of activities. If needed, the scenario script is automatically created for the user, and
the user never knows it is there. If the user has advanced testing requirements, then they may take
advantage of the scripting capability at such time. When the script exits, <em>AND</em> all activities are
complete, then the scenario is complete. Shortcut forms of scripting are provided on the command
line to address common variations.</p>

<p><b><a href="#">Back to top</a></b></p>
</article>
<div class="toc" aria-hidden="true">
  <div class="toc-sticky">
    <h5>Core Concepts</h5>
    <div class="toc-item">
      <a class="subtext" href="https://docs.nosqlbench.io/introduction/core-concepts/#the-cycle">The Cycle</a>
    </div>
    <div class="toc-item">
      <a class="subtext" href="https://docs.nosqlbench.io/introduction/core-concepts/#the-activity">The Activity</a>
    </div>
    <div class="toc-item">
      <a class="subtext" href="https://docs.nosqlbench.io/introduction/core-concepts/#the-op-template">The Op Template</a>
    </div>
    <div class="toc-item">
      <a class="subtext" href="https://docs.nosqlbench.io/introduction/core-concepts/#the-driver-adapter">The Driver Adapter</a>
    </div>
    <div class="toc-item">
      <a class="subtext" href="https://docs.nosqlbench.io/introduction/core-concepts/#the-scenario">The Scenario</a>
    </div>
    <div class="toc-item">
      <a class="subtext" href="https://docs.nosqlbench.io/introduction/core-concepts/#the-scenario-script">The Scenario Script</a>
    </div>
  </div>
</div>
  </main>
  <footer>
    <hr />
    <div class="c">
      <nav>
        <ul></ul>
      </nav>
      <p class="s90">Copyright &copy; 2023-2023 NoSQLBench Project</p>
    </div>
  </footer>
</body>
</html>
